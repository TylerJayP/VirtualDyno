{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tyler\\\\OneDrive\\\\Desktop\\\\VirtualDyno\\\\virtual-dyno-frontend\\\\src\\\\VirtualDyno.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport './VirtualDyno.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VirtualDyno = () => {\n  _s();\n  var _dynoResults$peaks, _dynoResults$peaks2, _dynoResults$peaks3, _dynoResults$peaks4;\n  const [csvFile, setCsvFile] = useState(null);\n  const [csvData, setCsvData] = useState([]);\n  const [dynoResults, setDynoResults] = useState(null);\n  const [isRunning, setIsRunning] = useState(false);\n  const [currentDataPoint, setCurrentDataPoint] = useState(0);\n  const [liveGraphData, setLiveGraphData] = useState([]);\n  const [currentPeaks, setCurrentPeaks] = useState({\n    maxHP: 0,\n    maxTorque: 0,\n    maxBoost: 0,\n    currentHP: 0,\n    currentTorque: 0,\n    currentBoost: 0\n  });\n\n  // Dyno Settings State\n  const [dynoSettings, setDynoSettings] = useState({\n    selectedCar: 'mazdaspeed3',\n    gear: 4,\n    dynoType: 'mustang_md250',\n    weight: 3200,\n    temperature: 75,\n    humidity: 45\n  });\n\n  // Post-run smoothing control\n  const [smoothingLevel, setSmoothingLevel] = useState(0);\n  const [smoothedData, setSmoothedData] = useState([]);\n  const [smoothedPeaks, setSmoothedPeaks] = useState(null);\n  const fileInputRef = useRef(null);\n  const canvasRef = useRef(null);\n\n  // Car options\n  const carOptions = [{\n    value: 'mazdaspeed3',\n    label: 'Mazdaspeed3'\n  }, {\n    value: 'wrx',\n    label: 'Subaru WRX'\n  }, {\n    value: 'sti',\n    label: 'Subaru STI'\n  }, {\n    value: 'evo',\n    label: 'Mitsubishi Evo'\n  }, {\n    value: 'gti',\n    label: 'VW Golf GTI'\n  }, {\n    value: 'focus_st',\n    label: 'Ford Focus ST'\n  }];\n\n  // Dyno types\n  const dynoTypes = {\n    mustang_md250: {\n      name: \"Mustang MD250\",\n      correction: 1.0,\n      variance: 0.02\n    },\n    dynojet_248c: {\n      name: \"DynoJet 248C\",\n      correction: 1.15,\n      variance: 0.03\n    },\n    awd_dyno: {\n      name: \"AWD Dyno\",\n      correction: 0.95,\n      variance: 0.04\n    }\n  };\n\n  // Smoothing options\n  const smoothingOptions = [{\n    value: 0,\n    label: 'Raw Data (0)'\n  }, {\n    value: 1,\n    label: 'Light (1)'\n  }, {\n    value: 2,\n    label: 'Moderate (2)'\n  }, {\n    value: 3,\n    label: 'Smooth (3)'\n  }, {\n    value: 4,\n    label: 'Heavy (4)'\n  }, {\n    value: 5,\n    label: 'Maximum (5)'\n  }];\n\n  // Draw graph on canvas\n  useEffect(() => {\n    if (!canvasRef.current) return;\n    const dataToDisplay = smoothedData.length > 0 ? smoothedData : liveGraphData;\n    if (dataToDisplay.length === 0) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const {\n      width,\n      height\n    } = canvas;\n\n    // Clear canvas\n    ctx.fillStyle = '#1a1a1a';\n    ctx.fillRect(0, 0, width, height);\n\n    // Setup graph dimensions\n    const padding = 60;\n    const graphWidth = width - padding * 2;\n    const graphHeight = height - padding * 2;\n\n    // Find data ranges\n    const maxRpm = Math.max(...dataToDisplay.map(d => d.rpm), 7000);\n    const minRpm = Math.min(...dataToDisplay.map(d => d.rpm), 2000);\n    const maxHP = Math.max(...dataToDisplay.map(d => d.horsepower), 100);\n    const maxTorque = Math.max(...dataToDisplay.map(d => d.torque), 100);\n    const maxPower = Math.max(maxHP, maxTorque);\n\n    // Draw grid\n    ctx.strokeStyle = '#333';\n    ctx.lineWidth = 1;\n\n    // Vertical grid lines (RPM)\n    for (let rpm = Math.ceil(minRpm / 500) * 500; rpm <= maxRpm; rpm += 500) {\n      const x = padding + (rpm - minRpm) / (maxRpm - minRpm) * graphWidth;\n      ctx.beginPath();\n      ctx.moveTo(x, padding);\n      ctx.lineTo(x, height - padding);\n      ctx.stroke();\n\n      // RPM labels\n      ctx.fillStyle = '#666';\n      ctx.font = '12px Arial';\n      ctx.textAlign = 'center';\n      ctx.fillText(rpm.toString(), x, height - padding + 20);\n    }\n\n    // Horizontal grid lines (Power)\n    for (let power = 0; power <= maxPower; power += 50) {\n      const y = height - padding - power / maxPower * graphHeight;\n      ctx.beginPath();\n      ctx.moveTo(padding, y);\n      ctx.lineTo(width - padding, y);\n      ctx.stroke();\n\n      // Power labels\n      ctx.fillStyle = '#666';\n      ctx.font = '12px Arial';\n      ctx.textAlign = 'right';\n      ctx.fillText(power.toString(), padding - 10, y + 4);\n    }\n\n    // Draw axes\n    ctx.strokeStyle = '#666';\n    ctx.lineWidth = 2;\n    ctx.beginPath();\n    ctx.moveTo(padding, padding);\n    ctx.lineTo(padding, height - padding);\n    ctx.lineTo(width - padding, height - padding);\n    ctx.stroke();\n\n    // Draw HP line (red)\n    if (dataToDisplay.length > 1) {\n      ctx.strokeStyle = '#ff4444';\n      ctx.lineWidth = 3;\n      ctx.beginPath();\n      dataToDisplay.forEach((point, index) => {\n        const x = padding + (point.rpm - minRpm) / (maxRpm - minRpm) * graphWidth;\n        const y = height - padding - point.horsepower / maxPower * graphHeight;\n        if (index === 0) {\n          ctx.moveTo(x, y);\n        } else {\n          ctx.lineTo(x, y);\n        }\n      });\n      ctx.stroke();\n    }\n\n    // Draw Torque line (green)\n    if (dataToDisplay.length > 1) {\n      ctx.strokeStyle = '#44ff44';\n      ctx.lineWidth = 3;\n      ctx.beginPath();\n      dataToDisplay.forEach((point, index) => {\n        const x = padding + (point.rpm - minRpm) / (maxRpm - minRpm) * graphWidth;\n        const y = height - padding - point.torque / maxPower * graphHeight;\n        if (index === 0) {\n          ctx.moveTo(x, y);\n        } else {\n          ctx.lineTo(x, y);\n        }\n      });\n      ctx.stroke();\n    }\n\n    // Draw current point indicator (only during live run)\n    if (isRunning && liveGraphData.length > 0) {\n      const currentPoint = liveGraphData[liveGraphData.length - 1];\n      const x = padding + (currentPoint.rpm - minRpm) / (maxRpm - minRpm) * graphWidth;\n      const yHP = height - padding - currentPoint.horsepower / maxPower * graphHeight;\n      const yTQ = height - padding - currentPoint.torque / maxPower * graphHeight;\n\n      // HP indicator\n      ctx.fillStyle = '#ff4444';\n      ctx.beginPath();\n      ctx.arc(x, yHP, 5, 0, 2 * Math.PI);\n      ctx.fill();\n\n      // Torque indicator\n      ctx.fillStyle = '#44ff44';\n      ctx.beginPath();\n      ctx.arc(x, yTQ, 5, 0, 2 * Math.PI);\n      ctx.fill();\n    }\n\n    // Draw legend\n    ctx.fillStyle = '#ff4444';\n    ctx.font = 'bold 14px Arial';\n    ctx.textAlign = 'left';\n    ctx.fillText('â–  Horsepower', width - 200, 30);\n    ctx.fillStyle = '#44ff44';\n    ctx.fillText('â–  Torque', width - 200, 50);\n\n    // Axis labels\n    ctx.fillStyle = '#ccc';\n    ctx.font = 'bold 16px Arial';\n    ctx.textAlign = 'center';\n    ctx.fillText('RPM', width / 2, height - 10);\n    ctx.save();\n    ctx.translate(20, height / 2);\n    ctx.rotate(-Math.PI / 2);\n    ctx.fillText('HP / TQ', 0, 0);\n    ctx.restore();\n  }, [liveGraphData, smoothedData, isRunning]);\n\n  // Handle smoothing change\n  const handleSmoothingChange = async newLevel => {\n    if (!dynoResults || !dynoResults.processedData) return;\n    setSmoothingLevel(newLevel);\n    let dataToProcess;\n    if (newLevel === 0) {\n      // Raw data\n      dataToProcess = dynoResults.processedData.map(d => ({\n        rpm: d.rpm,\n        horsepower: Math.round(d.hp),\n        torque: Math.round(d.torque),\n        boost: Math.round(d.boost * 10) / 10\n      }));\n      setSmoothedData(dataToProcess);\n    } else {\n      // Apply smoothing via backend\n      try {\n        const response = await fetch(`http://localhost:5038/api/dyno/runs/${dynoResults.backendResults.id}/smooth/${newLevel}`);\n        if (response.ok) {\n          const smoothed = await response.json();\n          dataToProcess = smoothed.map(d => ({\n            rpm: d.rpm,\n            horsepower: Math.round(d.horsepower),\n            torque: Math.round(d.torque),\n            boost: Math.round(d.boost * 10) / 10\n          }));\n          setSmoothedData(dataToProcess);\n        }\n      } catch (error) {\n        console.error('Error applying smoothing:', error);\n        return;\n      }\n    }\n\n    // Calculate new peaks from smoothed data\n    if (dataToProcess && dataToProcess.length > 0) {\n      const maxHP = Math.max(...dataToProcess.map(d => d.horsepower));\n      const maxTorque = Math.max(...dataToProcess.map(d => d.torque));\n      const maxBoost = Math.max(...dataToProcess.map(d => d.boost));\n      const maxHPPoint = dataToProcess.find(d => d.horsepower === maxHP);\n      const maxTorquePoint = dataToProcess.find(d => d.torque === maxTorque);\n      setSmoothedPeaks({\n        maxHP,\n        maxTorque,\n        maxBoost,\n        maxHPRpm: (maxHPPoint === null || maxHPPoint === void 0 ? void 0 : maxHPPoint.rpm) || 0,\n        maxTorqueRpm: (maxTorquePoint === null || maxTorquePoint === void 0 ? void 0 : maxTorquePoint.rpm) || 0\n      });\n    }\n  };\n\n  // Parse uploaded CSV file\n  const handleFileUpload = event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    setCsvFile(file);\n    setDynoResults(null);\n    setLiveGraphData([]);\n    setSmoothedData([]);\n    const reader = new FileReader();\n    reader.onload = e => {\n      const csv = e.target.result;\n      const lines = csv.split('\\n');\n      const headers = lines[0].split(',').map(h => h.trim());\n      const data = lines.slice(1).filter(line => line.trim().length > 0).map(line => {\n        const values = line.split(',');\n        const row = {};\n        headers.forEach((header, index) => {\n          var _values$index;\n          row[header] = (_values$index = values[index]) === null || _values$index === void 0 ? void 0 : _values$index.trim();\n        });\n        return row;\n      }).filter(row => {\n        const rpm = parseInt(row['RPM (RPM)'] || row['RPM'] || row['Engine Speed']);\n        const maf = parseFloat(row['Mass Airflow (g/s)'] || row['MAF'] || row['Mass Airflow']);\n        const load = parseFloat(row['Calculated Load (Load)'] || row['Load'] || row['Engine Load']);\n        return rpm > 2000 && maf > 5 && load > 0.15;\n      });\n      setCsvData(data);\n      console.log(`Loaded ${data.length} valid data points from CSV`);\n    };\n    reader.readAsText(file);\n  };\n\n  // Send to C# backend\n  const sendToBackend = async () => {\n    if (!csvFile) return null;\n    try {\n      const formData = new FormData();\n      formData.append('File', csvFile);\n      formData.append('CarPresetKey', dynoSettings.selectedCar);\n      formData.append('Weight', dynoSettings.weight.toString());\n      formData.append('Gear', dynoSettings.gear.toString());\n      formData.append('Notes', `${dynoSettings.dynoType}, ${dynoSettings.temperature}Â°F`);\n      formData.append('IsPublic', 'false');\n      console.log('Sending CSV to C# backend...');\n      const response = await fetch('http://localhost:5038/api/dyno/upload', {\n        method: 'POST',\n        body: formData\n      });\n      if (response.ok) {\n        const backendResults = await response.json();\n        console.log('âœ… C# Backend Results:', backendResults);\n        return backendResults;\n      } else {\n        console.error('Backend API error:', response.status, response.statusText);\n        return null;\n      }\n    } catch (error) {\n      console.error('Failed to connect to C# backend:', error);\n      return null;\n    }\n  };\n\n  // Run virtual dyno\n  const runVirtualDyno = async () => {\n    if (!csvData.length) {\n      alert('Please upload a CSV file first!');\n      return;\n    }\n    setIsRunning(true);\n    setCurrentDataPoint(0);\n    setLiveGraphData([]);\n    setSmoothedData([]);\n    setCurrentPeaks({\n      maxHP: 0,\n      maxTorque: 0,\n      maxBoost: 0,\n      currentHP: 0,\n      currentTorque: 0,\n      currentBoost: 0\n    });\n    try {\n      var _processedData$find, _processedData$find2, _backendResults$peaks, _backendResults$peaks2, _backendResults$peaks3, _backendResults$peaks4;\n      // Get backend results\n      const backendResults = await sendToBackend();\n      if (!backendResults) {\n        alert('Could not connect to backend API. Make sure your C# API is running on localhost:5038');\n        setIsRunning(false);\n        return;\n      }\n\n      // Get detailed data points\n      const detailResponse = await fetch(`http://localhost:5038/api/dyno/runs/${backendResults.id}`);\n      if (!detailResponse.ok) {\n        console.error('Failed to get detailed run data:', detailResponse.status);\n        setIsRunning(false);\n        return;\n      }\n      const detailData = await detailResponse.json();\n\n      // Process data with virtual dyno characteristics\n      const processedData = (detailData.dataPoints || []).map((point, index) => {\n        const dyno = dynoTypes[dynoSettings.dynoType];\n\n        // Environmental effects\n        const tempCorrection = Math.sqrt(537.67 / (dynoSettings.temperature + 459.67));\n        const humidityCorrection = 1 - dynoSettings.humidity / 100 * 0.047;\n        const envCorrection = tempCorrection * humidityCorrection;\n\n        // Dyno type correction and variance\n        const variance = 1 + (Math.random() - 0.5) * 2 * dyno.variance;\n        return {\n          rpm: point.rpm || point.Rpm || 0,\n          hp: (point.horsepower || point.Horsepower || 0) * envCorrection * dyno.correction * variance,\n          torque: (point.torque || point.Torque || 0) * envCorrection * variance,\n          boost: point.boost || point.Boost || 0,\n          maf: point.massAirflow || point.MassAirflow || 0,\n          load: point.load || point.Load || 0,\n          backendHP: point.horsepower || point.Horsepower || 0,\n          backendTorque: point.torque || point.Torque || 0\n        };\n      });\n\n      // Sort by RPM for proper graph progression\n      processedData.sort((a, b) => a.rpm - b.rpm);\n\n      // Animate the dyno run with live graph updates\n      for (let i = 0; i < processedData.length; i++) {\n        const currentPoint = processedData[i];\n\n        // Update live graph data (add current point)\n        setLiveGraphData(prev => {\n          const newData = [...prev, {\n            rpm: currentPoint.rpm,\n            horsepower: Math.round(currentPoint.hp),\n            torque: Math.round(currentPoint.torque),\n            boost: Math.round(currentPoint.boost * 10) / 10\n          }];\n          return newData.sort((a, b) => a.rpm - b.rpm);\n        });\n\n        // Update current peaks and live readings\n        setCurrentPeaks(prev => {\n          const maxHP = Math.max(prev.maxHP, currentPoint.hp);\n          const maxTorque = Math.max(prev.maxTorque, currentPoint.torque);\n          const maxBoost = Math.max(prev.maxBoost, currentPoint.boost);\n          return {\n            maxHP: Math.round(maxHP),\n            maxTorque: Math.round(maxTorque),\n            maxBoost: Math.round(maxBoost * 10) / 10,\n            currentHP: Math.round(currentPoint.hp),\n            currentTorque: Math.round(currentPoint.torque),\n            currentBoost: Math.round(currentPoint.boost * 10) / 10\n          };\n        });\n        setCurrentDataPoint(i);\n\n        // Vary the delay based on RPM\n        const delay = currentPoint.rpm < 3000 ? 200 : currentPoint.rpm < 4000 ? 150 : currentPoint.rpm < 5000 ? 120 : 100;\n        await new Promise(resolve => setTimeout(resolve, delay));\n      }\n\n      // Calculate final peaks\n      const peaks = {\n        maxHP: processedData.length > 0 ? Math.round(Math.max(...processedData.map(d => d.hp || 0))) : 0,\n        maxTorque: processedData.length > 0 ? Math.round(Math.max(...processedData.map(d => d.torque || 0))) : 0,\n        maxHPRpm: ((_processedData$find = processedData.find(d => d.hp === Math.max(...processedData.map(p => p.hp || 0)))) === null || _processedData$find === void 0 ? void 0 : _processedData$find.rpm) || 0,\n        maxTorqueRpm: ((_processedData$find2 = processedData.find(d => d.torque === Math.max(...processedData.map(p => p.torque || 0)))) === null || _processedData$find2 === void 0 ? void 0 : _processedData$find2.rpm) || 0,\n        backendMaxHP: Math.round(((_backendResults$peaks = backendResults.peaks) === null || _backendResults$peaks === void 0 ? void 0 : _backendResults$peaks.maxHorsepower) || 0),\n        backendMaxTorque: Math.round(((_backendResults$peaks2 = backendResults.peaks) === null || _backendResults$peaks2 === void 0 ? void 0 : _backendResults$peaks2.maxTorque) || 0),\n        backendMaxHPRpm: ((_backendResults$peaks3 = backendResults.peaks) === null || _backendResults$peaks3 === void 0 ? void 0 : _backendResults$peaks3.maxHorsepowerRpm) || 0,\n        backendMaxTorqueRpm: ((_backendResults$peaks4 = backendResults.peaks) === null || _backendResults$peaks4 === void 0 ? void 0 : _backendResults$peaks4.maxTorqueRpm) || 0\n      };\n      setDynoResults({\n        processedData,\n        peaks,\n        settings: dynoSettings,\n        fileName: csvFile.name,\n        backendResults\n      });\n\n      // Set initial smoothing level to 0 (raw data)\n      setSmoothingLevel(0);\n      handleSmoothingChange(0);\n    } catch (error) {\n      console.error('Error running virtual dyno:', error);\n      alert('Error connecting to backend API. Make sure your C# API is running.');\n    } finally {\n      setIsRunning(false);\n    }\n  };\n\n  // Reset dyno\n  const resetDyno = () => {\n    setDynoResults(null);\n    setCurrentDataPoint(0);\n    setLiveGraphData([]);\n    setSmoothedData([]);\n    setSmoothedPeaks(null);\n    setSmoothingLevel(0);\n    setCurrentPeaks({\n      maxHP: 0,\n      maxTorque: 0,\n      maxBoost: 0,\n      currentHP: 0,\n      currentTorque: 0,\n      currentBoost: 0\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"virtual-dyno-app\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"virtual-dyno-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"virtual-dyno-title\",\n        children: \"\\uD83C\\uDFC1 Virtual Dyno Pro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"virtual-dyno-subtitle\",\n        children: \"Professional Dyno Analysis & Simulation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"virtual-dyno-main-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"virtual-dyno-left-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-upload-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"\\uD83D\\uDCC1 Upload Datalog\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                var _fileInputRef$current;\n                return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n              },\n              className: `file-upload-button ${csvFile ? 'has-file' : 'no-file'}`,\n              children: csvFile ? 'âœ… Change' : 'ðŸ“‚ Select'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \".csv\",\n              onChange: handleFileUpload,\n              ref: fileInputRef,\n              className: \"hidden\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 13\n          }, this), csvFile && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-info-display\",\n            children: [\"\\uD83D\\uDCC4 \", csvFile.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"settings-section-title\",\n            children: \"\\uD83D\\uDE97 Vehicle Setup\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selection-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label form-label-inline\",\n              children: \"Car:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: dynoSettings.selectedCar,\n              onChange: e => setDynoSettings(prev => ({\n                ...prev,\n                selectedCar: e.target.value\n              })),\n              className: \"form-input flex-1\",\n              children: carOptions.map(car => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: car.value,\n                children: car.label\n              }, car.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-16\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Gear Used:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"gear-selection-container\",\n              children: [3, 4, 5].map(gear => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setDynoSettings(prev => ({\n                  ...prev,\n                  gear\n                })),\n                className: `gear-button ${dynoSettings.gear === gear ? 'selected' : 'unselected'}`,\n                children: [gear, \"rd\"]\n              }, gear, true, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-16\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Vehicle Weight (lbs):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: dynoSettings.weight,\n              onChange: e => setDynoSettings(prev => ({\n                ...prev,\n                weight: parseInt(e.target.value) || 0\n              })),\n              className: \"form-input\",\n              min: \"1000\",\n              max: \"10000\",\n              step: \"50\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 584,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"settings-section-title\",\n            children: \"\\u2699\\uFE0F Dyno Configuration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selection-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label form-label-inline\",\n              children: \"Type:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: dynoSettings.dynoType,\n              onChange: e => setDynoSettings(prev => ({\n                ...prev,\n                dynoType: e.target.value\n              })),\n              className: \"form-input flex-1\",\n              children: Object.entries(dynoTypes).map(([key, dyno]) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: key,\n                children: dyno.name\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"settings-section-title\",\n            children: \"\\uD83C\\uDF21\\uFE0F Environmental\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"slider-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: [\"Temperature: \", dynoSettings.temperature, \"\\xB0F\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: \"50\",\n              max: \"110\",\n              value: dynoSettings.temperature,\n              onChange: e => setDynoSettings(prev => ({\n                ...prev,\n                temperature: parseInt(e.target.value)\n              })),\n              className: \"slider-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 624,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"slider-labels\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"50\\xB0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"110\\xB0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 34\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"slider-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: [\"Humidity: \", dynoSettings.humidity, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: \"10\",\n              max: \"90\",\n              value: dynoSettings.humidity,\n              onChange: e => setDynoSettings(prev => ({\n                ...prev,\n                humidity: parseInt(e.target.value)\n              })),\n              className: \"slider-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"slider-labels\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"10%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"90%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: runVirtualDyno,\n          disabled: !csvData.length || isRunning,\n          className: `primary-action-button ${isRunning ? 'running' : 'ready'}`,\n          children: isRunning ? 'ðŸƒ PROCESSING...' : 'ðŸš€ START VIRTUAL DYNO'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"virtual-dyno-right-panel\",\n        children: isRunning || dynoResults ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [dynoResults && !isRunning && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"smoothing-control\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"smoothing-label\",\n              children: \"Smoothing:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: smoothingLevel,\n              onChange: e => handleSmoothingChange(parseInt(e.target.value)),\n              className: \"smoothing-select\",\n              children: smoothingOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: option.value,\n                children: option.label\n              }, option.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stats-cards-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-value hp\",\n                children: isRunning ? currentPeaks.currentHP : smoothedPeaks ? smoothedPeaks.maxHP : (dynoResults === null || dynoResults === void 0 ? void 0 : (_dynoResults$peaks = dynoResults.peaks) === null || _dynoResults$peaks === void 0 ? void 0 : _dynoResults$peaks.maxHP) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 693,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-label\",\n                children: [isRunning ? 'CURRENT' : 'PEAK', \" HP\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 19\n              }, this), !isRunning && (dynoResults || smoothedPeaks) && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-rpm\",\n                children: [\"@ \", smoothedPeaks ? smoothedPeaks.maxHPRpm : (dynoResults === null || dynoResults === void 0 ? void 0 : (_dynoResults$peaks2 = dynoResults.peaks) === null || _dynoResults$peaks2 === void 0 ? void 0 : _dynoResults$peaks2.maxHPRpm) || 0, \" RPM\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 700,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-value torque\",\n                children: isRunning ? currentPeaks.currentTorque : smoothedPeaks ? smoothedPeaks.maxTorque : (dynoResults === null || dynoResults === void 0 ? void 0 : (_dynoResults$peaks3 = dynoResults.peaks) === null || _dynoResults$peaks3 === void 0 ? void 0 : _dynoResults$peaks3.maxTorque) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 707,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-label\",\n                children: [isRunning ? 'CURRENT' : 'PEAK', \" LB-FT\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 710,\n                columnNumber: 19\n              }, this), !isRunning && (dynoResults || smoothedPeaks) && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-rpm\",\n                children: [\"@ \", smoothedPeaks ? smoothedPeaks.maxTorqueRpm : (dynoResults === null || dynoResults === void 0 ? void 0 : (_dynoResults$peaks4 = dynoResults.peaks) === null || _dynoResults$peaks4 === void 0 ? void 0 : _dynoResults$peaks4.maxTorqueRpm) || 0, \" RPM\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 714,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 706,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-value boost\",\n                children: isRunning ? currentPeaks.maxBoost : smoothedPeaks ? smoothedPeaks.maxBoost : Math.max(...(liveGraphData.map(d => d.boost) || [0])) || (smoothedData.length > 0 ? Math.max(...smoothedData.map(d => d.boost)) : 0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 721,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-label\",\n                children: \"PEAK BOOST PSI\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 724,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-rpm\",\n                children: isRunning ? 'LIVE' : 'RECORDED'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 727,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 720,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"canvas-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n              ref: canvasRef,\n              width: 700,\n              height: 350,\n              className: \"canvas-graph\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 735,\n              columnNumber: 17\n            }, this), dynoResults && !isRunning && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                // TODO: Implement save functionality\n                alert('Save functionality will be implemented soon!');\n              },\n              className: \"save-dyno-button\",\n              children: \"\\uD83D\\uDCBE Save Dyno\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 744,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 734,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"placeholder-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"placeholder-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"placeholder-icon\",\n              children: \"\\uD83D\\uDCCA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 759,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"placeholder-title\",\n              children: \"Ready for Dyno Run\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 760,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"placeholder-description\",\n              children: \"Upload a datalog file and configure your settings to begin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 761,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 758,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 757,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 506,\n    columnNumber: 5\n  }, this);\n};\n_s(VirtualDyno, \"EHPwrjhdo4KInjOOrxhqs9j2qfM=\");\n_c = VirtualDyno;\nexport default VirtualDyno;\nvar _c;\n$RefreshReg$(_c, \"VirtualDyno\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","VirtualDyno","_s","_dynoResults$peaks","_dynoResults$peaks2","_dynoResults$peaks3","_dynoResults$peaks4","csvFile","setCsvFile","csvData","setCsvData","dynoResults","setDynoResults","isRunning","setIsRunning","currentDataPoint","setCurrentDataPoint","liveGraphData","setLiveGraphData","currentPeaks","setCurrentPeaks","maxHP","maxTorque","maxBoost","currentHP","currentTorque","currentBoost","dynoSettings","setDynoSettings","selectedCar","gear","dynoType","weight","temperature","humidity","smoothingLevel","setSmoothingLevel","smoothedData","setSmoothedData","smoothedPeaks","setSmoothedPeaks","fileInputRef","canvasRef","carOptions","value","label","dynoTypes","mustang_md250","name","correction","variance","dynojet_248c","awd_dyno","smoothingOptions","current","dataToDisplay","length","canvas","ctx","getContext","width","height","fillStyle","fillRect","padding","graphWidth","graphHeight","maxRpm","Math","max","map","d","rpm","minRpm","min","horsepower","torque","maxPower","strokeStyle","lineWidth","ceil","x","beginPath","moveTo","lineTo","stroke","font","textAlign","fillText","toString","power","y","forEach","point","index","currentPoint","yHP","yTQ","arc","PI","fill","save","translate","rotate","restore","handleSmoothingChange","newLevel","processedData","dataToProcess","round","hp","boost","response","fetch","backendResults","id","ok","smoothed","json","error","console","maxHPPoint","find","maxTorquePoint","maxHPRpm","maxTorqueRpm","handleFileUpload","event","file","target","files","reader","FileReader","onload","e","csv","result","lines","split","headers","h","trim","data","slice","filter","line","values","row","header","_values$index","parseInt","maf","parseFloat","load","log","readAsText","sendToBackend","formData","FormData","append","method","body","status","statusText","runVirtualDyno","alert","_processedData$find","_processedData$find2","_backendResults$peaks","_backendResults$peaks2","_backendResults$peaks3","_backendResults$peaks4","detailResponse","detailData","dataPoints","dyno","tempCorrection","sqrt","humidityCorrection","envCorrection","random","Rpm","Horsepower","Torque","Boost","massAirflow","MassAirflow","Load","backendHP","backendTorque","sort","a","b","i","prev","newData","delay","Promise","resolve","setTimeout","peaks","p","backendMaxHP","maxHorsepower","backendMaxTorque","backendMaxHPRpm","maxHorsepowerRpm","backendMaxTorqueRpm","settings","fileName","resetDyno","className","children","_jsxFileName","lineNumber","columnNumber","onClick","_fileInputRef$current","click","type","accept","onChange","ref","car","step","Object","entries","key","disabled","option","_c","$RefreshReg$"],"sources":["C:/Users/tyler/OneDrive/Desktop/VirtualDyno/virtual-dyno-frontend/src/VirtualDyno.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport './VirtualDyno.css';\r\n\r\nconst VirtualDyno = () => {\r\n  const [csvFile, setCsvFile] = useState(null);\r\n  const [csvData, setCsvData] = useState([]);\r\n  const [dynoResults, setDynoResults] = useState(null);\r\n  const [isRunning, setIsRunning] = useState(false);\r\n  const [currentDataPoint, setCurrentDataPoint] = useState(0);\r\n  const [liveGraphData, setLiveGraphData] = useState([]);\r\n  const [currentPeaks, setCurrentPeaks] = useState({\r\n    maxHP: 0,\r\n    maxTorque: 0,\r\n    maxBoost: 0,\r\n    currentHP: 0,\r\n    currentTorque: 0,\r\n    currentBoost: 0\r\n  });\r\n  \r\n  // Dyno Settings State\r\n  const [dynoSettings, setDynoSettings] = useState({\r\n    selectedCar: 'mazdaspeed3',\r\n    gear: 4,\r\n    dynoType: 'mustang_md250',\r\n    weight: 3200,\r\n    temperature: 75,\r\n    humidity: 45\r\n  });\r\n\r\n  // Post-run smoothing control\r\n  const [smoothingLevel, setSmoothingLevel] = useState(0);\r\n  const [smoothedData, setSmoothedData] = useState([]);\r\n  const [smoothedPeaks, setSmoothedPeaks] = useState(null);\r\n\r\n  const fileInputRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n\r\n  // Car options\r\n  const carOptions = [\r\n    { value: 'mazdaspeed3', label: 'Mazdaspeed3' },\r\n    { value: 'wrx', label: 'Subaru WRX' },\r\n    { value: 'sti', label: 'Subaru STI' },\r\n    { value: 'evo', label: 'Mitsubishi Evo' },\r\n    { value: 'gti', label: 'VW Golf GTI' },\r\n    { value: 'focus_st', label: 'Ford Focus ST' }\r\n  ];\r\n\r\n  // Dyno types\r\n  const dynoTypes = {\r\n    mustang_md250: { name: \"Mustang MD250\", correction: 1.0, variance: 0.02 },\r\n    dynojet_248c: { name: \"DynoJet 248C\", correction: 1.15, variance: 0.03 },\r\n    awd_dyno: { name: \"AWD Dyno\", correction: 0.95, variance: 0.04 }\r\n  };\r\n\r\n  // Smoothing options\r\n  const smoothingOptions = [\r\n    { value: 0, label: 'Raw Data (0)' },\r\n    { value: 1, label: 'Light (1)' },\r\n    { value: 2, label: 'Moderate (2)' },\r\n    { value: 3, label: 'Smooth (3)' },\r\n    { value: 4, label: 'Heavy (4)' },\r\n    { value: 5, label: 'Maximum (5)' }\r\n  ];\r\n\r\n  // Draw graph on canvas\r\n  useEffect(() => {\r\n    if (!canvasRef.current) return;\r\n\r\n    const dataToDisplay = smoothedData.length > 0 ? smoothedData : liveGraphData;\r\n    if (dataToDisplay.length === 0) return;\r\n\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const { width, height } = canvas;\r\n\r\n    // Clear canvas\r\n    ctx.fillStyle = '#1a1a1a';\r\n    ctx.fillRect(0, 0, width, height);\r\n\r\n    // Setup graph dimensions\r\n    const padding = 60;\r\n    const graphWidth = width - padding * 2;\r\n    const graphHeight = height - padding * 2;\r\n\r\n    // Find data ranges\r\n    const maxRpm = Math.max(...dataToDisplay.map(d => d.rpm), 7000);\r\n    const minRpm = Math.min(...dataToDisplay.map(d => d.rpm), 2000);\r\n    const maxHP = Math.max(...dataToDisplay.map(d => d.horsepower), 100);\r\n    const maxTorque = Math.max(...dataToDisplay.map(d => d.torque), 100);\r\n    const maxPower = Math.max(maxHP, maxTorque);\r\n\r\n    // Draw grid\r\n    ctx.strokeStyle = '#333';\r\n    ctx.lineWidth = 1;\r\n    \r\n    // Vertical grid lines (RPM)\r\n    for (let rpm = Math.ceil(minRpm / 500) * 500; rpm <= maxRpm; rpm += 500) {\r\n      const x = padding + ((rpm - minRpm) / (maxRpm - minRpm)) * graphWidth;\r\n      ctx.beginPath();\r\n      ctx.moveTo(x, padding);\r\n      ctx.lineTo(x, height - padding);\r\n      ctx.stroke();\r\n      \r\n      // RPM labels\r\n      ctx.fillStyle = '#666';\r\n      ctx.font = '12px Arial';\r\n      ctx.textAlign = 'center';\r\n      ctx.fillText(rpm.toString(), x, height - padding + 20);\r\n    }\r\n\r\n    // Horizontal grid lines (Power)\r\n    for (let power = 0; power <= maxPower; power += 50) {\r\n      const y = height - padding - (power / maxPower) * graphHeight;\r\n      ctx.beginPath();\r\n      ctx.moveTo(padding, y);\r\n      ctx.lineTo(width - padding, y);\r\n      ctx.stroke();\r\n      \r\n      // Power labels\r\n      ctx.fillStyle = '#666';\r\n      ctx.font = '12px Arial';\r\n      ctx.textAlign = 'right';\r\n      ctx.fillText(power.toString(), padding - 10, y + 4);\r\n    }\r\n\r\n    // Draw axes\r\n    ctx.strokeStyle = '#666';\r\n    ctx.lineWidth = 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(padding, padding);\r\n    ctx.lineTo(padding, height - padding);\r\n    ctx.lineTo(width - padding, height - padding);\r\n    ctx.stroke();\r\n\r\n    // Draw HP line (red)\r\n    if (dataToDisplay.length > 1) {\r\n      ctx.strokeStyle = '#ff4444';\r\n      ctx.lineWidth = 3;\r\n      ctx.beginPath();\r\n      \r\n      dataToDisplay.forEach((point, index) => {\r\n        const x = padding + ((point.rpm - minRpm) / (maxRpm - minRpm)) * graphWidth;\r\n        const y = height - padding - (point.horsepower / maxPower) * graphHeight;\r\n        \r\n        if (index === 0) {\r\n          ctx.moveTo(x, y);\r\n        } else {\r\n          ctx.lineTo(x, y);\r\n        }\r\n      });\r\n      ctx.stroke();\r\n    }\r\n\r\n    // Draw Torque line (green)\r\n    if (dataToDisplay.length > 1) {\r\n      ctx.strokeStyle = '#44ff44';\r\n      ctx.lineWidth = 3;\r\n      ctx.beginPath();\r\n      \r\n      dataToDisplay.forEach((point, index) => {\r\n        const x = padding + ((point.rpm - minRpm) / (maxRpm - minRpm)) * graphWidth;\r\n        const y = height - padding - (point.torque / maxPower) * graphHeight;\r\n        \r\n        if (index === 0) {\r\n          ctx.moveTo(x, y);\r\n        } else {\r\n          ctx.lineTo(x, y);\r\n        }\r\n      });\r\n      ctx.stroke();\r\n    }\r\n\r\n    // Draw current point indicator (only during live run)\r\n    if (isRunning && liveGraphData.length > 0) {\r\n      const currentPoint = liveGraphData[liveGraphData.length - 1];\r\n      const x = padding + ((currentPoint.rpm - minRpm) / (maxRpm - minRpm)) * graphWidth;\r\n      const yHP = height - padding - (currentPoint.horsepower / maxPower) * graphHeight;\r\n      const yTQ = height - padding - (currentPoint.torque / maxPower) * graphHeight;\r\n      \r\n      // HP indicator\r\n      ctx.fillStyle = '#ff4444';\r\n      ctx.beginPath();\r\n      ctx.arc(x, yHP, 5, 0, 2 * Math.PI);\r\n      ctx.fill();\r\n      \r\n      // Torque indicator\r\n      ctx.fillStyle = '#44ff44';\r\n      ctx.beginPath();\r\n      ctx.arc(x, yTQ, 5, 0, 2 * Math.PI);\r\n      ctx.fill();\r\n    }\r\n\r\n    // Draw legend\r\n    ctx.fillStyle = '#ff4444';\r\n    ctx.font = 'bold 14px Arial';\r\n    ctx.textAlign = 'left';\r\n    ctx.fillText('â–  Horsepower', width - 200, 30);\r\n    \r\n    ctx.fillStyle = '#44ff44';\r\n    ctx.fillText('â–  Torque', width - 200, 50);\r\n\r\n    // Axis labels\r\n    ctx.fillStyle = '#ccc';\r\n    ctx.font = 'bold 16px Arial';\r\n    ctx.textAlign = 'center';\r\n    ctx.fillText('RPM', width / 2, height - 10);\r\n    \r\n    ctx.save();\r\n    ctx.translate(20, height / 2);\r\n    ctx.rotate(-Math.PI / 2);\r\n    ctx.fillText('HP / TQ', 0, 0);\r\n    ctx.restore();\r\n\r\n  }, [liveGraphData, smoothedData, isRunning]);\r\n\r\n  // Handle smoothing change\r\n  const handleSmoothingChange = async (newLevel) => {\r\n    if (!dynoResults || !dynoResults.processedData) return;\r\n    \r\n    setSmoothingLevel(newLevel);\r\n    \r\n    let dataToProcess;\r\n    \r\n    if (newLevel === 0) {\r\n      // Raw data\r\n      dataToProcess = dynoResults.processedData.map(d => ({\r\n        rpm: d.rpm,\r\n        horsepower: Math.round(d.hp),\r\n        torque: Math.round(d.torque),\r\n        boost: Math.round(d.boost * 10) / 10\r\n      }));\r\n      setSmoothedData(dataToProcess);\r\n    } else {\r\n      // Apply smoothing via backend\r\n      try {\r\n        const response = await fetch(`http://localhost:5038/api/dyno/runs/${dynoResults.backendResults.id}/smooth/${newLevel}`);\r\n        if (response.ok) {\r\n          const smoothed = await response.json();\r\n          dataToProcess = smoothed.map(d => ({\r\n            rpm: d.rpm,\r\n            horsepower: Math.round(d.horsepower),\r\n            torque: Math.round(d.torque),\r\n            boost: Math.round(d.boost * 10) / 10\r\n          }));\r\n          setSmoothedData(dataToProcess);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error applying smoothing:', error);\r\n        return;\r\n      }\r\n    }\r\n    \r\n    // Calculate new peaks from smoothed data\r\n    if (dataToProcess && dataToProcess.length > 0) {\r\n      const maxHP = Math.max(...dataToProcess.map(d => d.horsepower));\r\n      const maxTorque = Math.max(...dataToProcess.map(d => d.torque));\r\n      const maxBoost = Math.max(...dataToProcess.map(d => d.boost));\r\n      const maxHPPoint = dataToProcess.find(d => d.horsepower === maxHP);\r\n      const maxTorquePoint = dataToProcess.find(d => d.torque === maxTorque);\r\n      \r\n      setSmoothedPeaks({\r\n        maxHP,\r\n        maxTorque,\r\n        maxBoost,\r\n        maxHPRpm: maxHPPoint?.rpm || 0,\r\n        maxTorqueRpm: maxTorquePoint?.rpm || 0\r\n      });\r\n    }\r\n  };\r\n\r\n  // Parse uploaded CSV file\r\n  const handleFileUpload = (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n    \r\n    setCsvFile(file);\r\n    setDynoResults(null);\r\n    setLiveGraphData([]);\r\n    setSmoothedData([]);\r\n    \r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      const csv = e.target.result;\r\n      const lines = csv.split('\\n');\r\n      const headers = lines[0].split(',').map(h => h.trim());\r\n      \r\n      const data = lines.slice(1)\r\n        .filter(line => line.trim().length > 0)\r\n        .map(line => {\r\n          const values = line.split(',');\r\n          const row = {};\r\n          headers.forEach((header, index) => {\r\n            row[header] = values[index]?.trim();\r\n          });\r\n          return row;\r\n        })\r\n        .filter(row => {\r\n          const rpm = parseInt(row['RPM (RPM)'] || row['RPM'] || row['Engine Speed']);\r\n          const maf = parseFloat(row['Mass Airflow (g/s)'] || row['MAF'] || row['Mass Airflow']);\r\n          const load = parseFloat(row['Calculated Load (Load)'] || row['Load'] || row['Engine Load']);\r\n          \r\n          return rpm > 2000 && maf > 5 && load > 0.15;\r\n        });\r\n      \r\n      setCsvData(data);\r\n      console.log(`Loaded ${data.length} valid data points from CSV`);\r\n    };\r\n    \r\n    reader.readAsText(file);\r\n  };\r\n\r\n  // Send to C# backend\r\n  const sendToBackend = async () => {\r\n    if (!csvFile) return null;\r\n    \r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('File', csvFile);\r\n      formData.append('CarPresetKey', dynoSettings.selectedCar);\r\n      formData.append('Weight', dynoSettings.weight.toString());\r\n      formData.append('Gear', dynoSettings.gear.toString());\r\n      formData.append('Notes', `${dynoSettings.dynoType}, ${dynoSettings.temperature}Â°F`);\r\n      formData.append('IsPublic', 'false');\r\n      \r\n      console.log('Sending CSV to C# backend...');\r\n      const response = await fetch('http://localhost:5038/api/dyno/upload', {\r\n        method: 'POST',\r\n        body: formData\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const backendResults = await response.json();\r\n        console.log('âœ… C# Backend Results:', backendResults);\r\n        return backendResults;\r\n      } else {\r\n        console.error('Backend API error:', response.status, response.statusText);\r\n        return null;\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to connect to C# backend:', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Run virtual dyno\r\n  const runVirtualDyno = async () => {\r\n    if (!csvData.length) {\r\n      alert('Please upload a CSV file first!');\r\n      return;\r\n    }\r\n    \r\n    setIsRunning(true);\r\n    setCurrentDataPoint(0);\r\n    setLiveGraphData([]);\r\n    setSmoothedData([]);\r\n    setCurrentPeaks({\r\n      maxHP: 0,\r\n      maxTorque: 0,\r\n      maxBoost: 0,\r\n      currentHP: 0,\r\n      currentTorque: 0,\r\n      currentBoost: 0\r\n    });\r\n    \r\n    try {\r\n      // Get backend results\r\n      const backendResults = await sendToBackend();\r\n      \r\n      if (!backendResults) {\r\n        alert('Could not connect to backend API. Make sure your C# API is running on localhost:5038');\r\n        setIsRunning(false);\r\n        return;\r\n      }\r\n      \r\n      // Get detailed data points\r\n      const detailResponse = await fetch(`http://localhost:5038/api/dyno/runs/${backendResults.id}`);\r\n      \r\n      if (!detailResponse.ok) {\r\n        console.error('Failed to get detailed run data:', detailResponse.status);\r\n        setIsRunning(false);\r\n        return;\r\n      }\r\n      \r\n      const detailData = await detailResponse.json();\r\n      \r\n      // Process data with virtual dyno characteristics\r\n      const processedData = (detailData.dataPoints || []).map((point, index) => {\r\n        const dyno = dynoTypes[dynoSettings.dynoType];\r\n        \r\n        // Environmental effects\r\n        const tempCorrection = Math.sqrt(537.67 / (dynoSettings.temperature + 459.67));\r\n        const humidityCorrection = 1 - (dynoSettings.humidity / 100 * 0.047);\r\n        const envCorrection = tempCorrection * humidityCorrection;\r\n        \r\n        // Dyno type correction and variance\r\n        const variance = 1 + (Math.random() - 0.5) * 2 * dyno.variance;\r\n        \r\n        return {\r\n          rpm: point.rpm || point.Rpm || 0,\r\n          hp: (point.horsepower || point.Horsepower || 0) * envCorrection * dyno.correction * variance,\r\n          torque: (point.torque || point.Torque || 0) * envCorrection * variance,\r\n          boost: point.boost || point.Boost || 0,\r\n          maf: point.massAirflow || point.MassAirflow || 0,\r\n          load: point.load || point.Load || 0,\r\n          backendHP: point.horsepower || point.Horsepower || 0,\r\n          backendTorque: point.torque || point.Torque || 0\r\n        };\r\n      });\r\n      \r\n      // Sort by RPM for proper graph progression\r\n      processedData.sort((a, b) => a.rpm - b.rpm);\r\n      \r\n      // Animate the dyno run with live graph updates\r\n      for (let i = 0; i < processedData.length; i++) {\r\n        const currentPoint = processedData[i];\r\n        \r\n        // Update live graph data (add current point)\r\n        setLiveGraphData(prev => {\r\n          const newData = [...prev, {\r\n            rpm: currentPoint.rpm,\r\n            horsepower: Math.round(currentPoint.hp),\r\n            torque: Math.round(currentPoint.torque),\r\n            boost: Math.round(currentPoint.boost * 10) / 10\r\n          }];\r\n          \r\n          return newData.sort((a, b) => a.rpm - b.rpm);\r\n        });\r\n        \r\n        // Update current peaks and live readings\r\n        setCurrentPeaks(prev => {\r\n          const maxHP = Math.max(prev.maxHP, currentPoint.hp);\r\n          const maxTorque = Math.max(prev.maxTorque, currentPoint.torque);\r\n          const maxBoost = Math.max(prev.maxBoost, currentPoint.boost);\r\n          \r\n          return {\r\n            maxHP: Math.round(maxHP),\r\n            maxTorque: Math.round(maxTorque),\r\n            maxBoost: Math.round(maxBoost * 10) / 10,\r\n            currentHP: Math.round(currentPoint.hp),\r\n            currentTorque: Math.round(currentPoint.torque),\r\n            currentBoost: Math.round(currentPoint.boost * 10) / 10\r\n          };\r\n        });\r\n        \r\n        setCurrentDataPoint(i);\r\n        \r\n        // Vary the delay based on RPM\r\n        const delay = currentPoint.rpm < 3000 ? 200 : \r\n                     currentPoint.rpm < 4000 ? 150 : \r\n                     currentPoint.rpm < 5000 ? 120 : 100;\r\n        \r\n        await new Promise(resolve => setTimeout(resolve, delay));\r\n      }\r\n      \r\n      // Calculate final peaks\r\n      const peaks = {\r\n        maxHP: processedData.length > 0 ? Math.round(Math.max(...processedData.map(d => d.hp || 0))) : 0,\r\n        maxTorque: processedData.length > 0 ? Math.round(Math.max(...processedData.map(d => d.torque || 0))) : 0,\r\n        maxHPRpm: processedData.find(d => d.hp === Math.max(...processedData.map(p => p.hp || 0)))?.rpm || 0,\r\n        maxTorqueRpm: processedData.find(d => d.torque === Math.max(...processedData.map(p => p.torque || 0)))?.rpm || 0,\r\n        backendMaxHP: Math.round(backendResults.peaks?.maxHorsepower || 0),\r\n        backendMaxTorque: Math.round(backendResults.peaks?.maxTorque || 0),\r\n        backendMaxHPRpm: backendResults.peaks?.maxHorsepowerRpm || 0,\r\n        backendMaxTorqueRpm: backendResults.peaks?.maxTorqueRpm || 0\r\n      };\r\n      \r\n      setDynoResults({\r\n        processedData,\r\n        peaks,\r\n        settings: dynoSettings,\r\n        fileName: csvFile.name,\r\n        backendResults\r\n      });\r\n      \r\n      // Set initial smoothing level to 0 (raw data)\r\n      setSmoothingLevel(0);\r\n      handleSmoothingChange(0);\r\n      \r\n    } catch (error) {\r\n      console.error('Error running virtual dyno:', error);\r\n      alert('Error connecting to backend API. Make sure your C# API is running.');\r\n    } finally {\r\n      setIsRunning(false);\r\n    }\r\n  };\r\n\r\n  // Reset dyno\r\n  const resetDyno = () => {\r\n    setDynoResults(null);\r\n    setCurrentDataPoint(0);\r\n    setLiveGraphData([]);\r\n    setSmoothedData([]);\r\n    setSmoothedPeaks(null);\r\n    setSmoothingLevel(0);\r\n    setCurrentPeaks({\r\n      maxHP: 0,\r\n      maxTorque: 0,\r\n      maxBoost: 0,\r\n      currentHP: 0,\r\n      currentTorque: 0,\r\n      currentBoost: 0\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"virtual-dyno-app\">\r\n      {/* Header */}\r\n      <div className=\"virtual-dyno-header\">\r\n        <h1 className=\"virtual-dyno-title\">\r\n          ðŸ Virtual Dyno Pro\r\n        </h1>\r\n        <p className=\"virtual-dyno-subtitle\">\r\n          Professional Dyno Analysis & Simulation\r\n        </p>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"virtual-dyno-main-grid\">\r\n        \r\n        {/* Left Panel - Settings */}\r\n        <div className=\"virtual-dyno-left-panel\">\r\n          \r\n          {/* File Upload Section */}\r\n          <div className=\"settings-section\">\r\n            <div className=\"file-upload-container\">\r\n              <label className=\"form-label\">ðŸ“ Upload Datalog</label>\r\n              <button \r\n                onClick={() => fileInputRef.current?.click()}\r\n                className={`file-upload-button ${csvFile ? 'has-file' : 'no-file'}`}\r\n              >\r\n                {csvFile ? 'âœ… Change' : 'ðŸ“‚ Select'}\r\n              </button>\r\n              <input \r\n                type=\"file\" \r\n                accept=\".csv\"\r\n                onChange={handleFileUpload}\r\n                ref={fileInputRef}\r\n                className=\"hidden\"\r\n              />\r\n            </div>\r\n            \r\n            {csvFile && (\r\n              <div className=\"file-info-display\">\r\n                ðŸ“„ {csvFile.name}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Vehicle Settings */}\r\n          <div className=\"settings-section\">\r\n            <h3 className=\"settings-section-title\">ðŸš— Vehicle Setup</h3>\r\n            \r\n            {/* Car Selection */}\r\n            <div className=\"selection-container\">\r\n              <label className=\"form-label form-label-inline\">Car:</label>\r\n              <select \r\n                value={dynoSettings.selectedCar}\r\n                onChange={(e) => setDynoSettings(prev => ({ ...prev, selectedCar: e.target.value }))}\r\n                className=\"form-input flex-1\"\r\n              >\r\n                {carOptions.map(car => (\r\n                  <option key={car.value} value={car.value}>{car.label}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {/* Gear Selection */}\r\n            <div className=\"mb-16\">\r\n              <label className=\"form-label\">Gear Used:</label>\r\n              <div className=\"gear-selection-container\">\r\n                {[3, 4, 5].map(gear => (\r\n                  <button\r\n                    key={gear}\r\n                    onClick={() => setDynoSettings(prev => ({ ...prev, gear }))}\r\n                    className={`gear-button ${dynoSettings.gear === gear ? 'selected' : 'unselected'}`}\r\n                  >\r\n                    {gear}rd\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Weight */}\r\n            <div className=\"mb-16\">\r\n              <label className=\"form-label\">Vehicle Weight (lbs):</label>\r\n              <input\r\n                type=\"number\"\r\n                value={dynoSettings.weight}\r\n                onChange={(e) => setDynoSettings(prev => ({ ...prev, weight: parseInt(e.target.value) || 0 }))}\r\n                className=\"form-input\"\r\n                min=\"1000\"\r\n                max=\"10000\"\r\n                step=\"50\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Dyno Settings */}\r\n          <div className=\"settings-section\">\r\n            <h3 className=\"settings-section-title\">âš™ï¸ Dyno Configuration</h3>\r\n            \r\n            {/* Dyno Type */}\r\n            <div className=\"selection-container\">\r\n              <label className=\"form-label form-label-inline\">Type:</label>\r\n              <select \r\n                value={dynoSettings.dynoType}\r\n                onChange={(e) => setDynoSettings(prev => ({ ...prev, dynoType: e.target.value }))}\r\n                className=\"form-input flex-1\"\r\n              >\r\n                {Object.entries(dynoTypes).map(([key, dyno]) => (\r\n                  <option key={key} value={key}>{dyno.name}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Environmental Settings */}\r\n          <div className=\"settings-section\">\r\n            <h3 className=\"settings-section-title\">ðŸŒ¡ï¸ Environmental</h3>\r\n            \r\n            {/* Temperature */}\r\n            <div className=\"slider-container\">\r\n              <label className=\"form-label\">Temperature: {dynoSettings.temperature}Â°F</label>\r\n              <input \r\n                type=\"range\" \r\n                min=\"50\" \r\n                max=\"110\" \r\n                value={dynoSettings.temperature}\r\n                onChange={(e) => setDynoSettings(prev => ({ ...prev, temperature: parseInt(e.target.value) }))}\r\n                className=\"slider-input\"\r\n              />\r\n              <div className=\"slider-labels\">\r\n                <span>50Â°F</span><span>110Â°F</span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Humidity */}\r\n            <div className=\"slider-container\">\r\n              <label className=\"form-label\">Humidity: {dynoSettings.humidity}%</label>\r\n              <input \r\n                type=\"range\" \r\n                min=\"10\" \r\n                max=\"90\" \r\n                value={dynoSettings.humidity}\r\n                onChange={(e) => setDynoSettings(prev => ({ ...prev, humidity: parseInt(e.target.value) }))}\r\n                className=\"slider-input\"\r\n              />\r\n              <div className=\"slider-labels\">\r\n                <span>10%</span><span>90%</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Run Button */}\r\n          <button \r\n            onClick={runVirtualDyno}\r\n            disabled={!csvData.length || isRunning}\r\n            className={`primary-action-button ${isRunning ? 'running' : 'ready'}`}\r\n          >\r\n            {isRunning ? 'ðŸƒ PROCESSING...' : 'ðŸš€ START VIRTUAL DYNO'}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Right Panel - Graph */}\r\n        <div className=\"virtual-dyno-right-panel\">\r\n          \r\n          {/* Stats Cards or Placeholder */}\r\n          {(isRunning || dynoResults) ? (\r\n            <div>\r\n              {/* Smoothing Control - Only show after run */}\r\n              {dynoResults && !isRunning && (\r\n                <div className=\"smoothing-control\">\r\n                  <label className=\"smoothing-label\">\r\n                    Smoothing:\r\n                  </label>\r\n                  <select\r\n                    value={smoothingLevel}\r\n                    onChange={(e) => handleSmoothingChange(parseInt(e.target.value))}\r\n                    className=\"smoothing-select\"\r\n                  >\r\n                    {smoothingOptions.map(option => (\r\n                      <option key={option.value} value={option.value}>\r\n                        {option.label}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              )}\r\n\r\n              {/* Peak Stats Card */}\r\n              <div className=\"stats-cards-container\">\r\n                <div className=\"stat-card\">\r\n                  <div className=\"stat-value hp\">\r\n                    {isRunning ? currentPeaks.currentHP : (smoothedPeaks ? smoothedPeaks.maxHP : (dynoResults?.peaks?.maxHP || 0))}\r\n                  </div>\r\n                  <div className=\"stat-label\">\r\n                    {isRunning ? 'CURRENT' : 'PEAK'} HP\r\n                  </div>\r\n                  {!isRunning && (dynoResults || smoothedPeaks) && (\r\n                    <div className=\"stat-rpm\">\r\n                      @ {smoothedPeaks ? smoothedPeaks.maxHPRpm : (dynoResults?.peaks?.maxHPRpm || 0)} RPM\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                <div className=\"stat-card\">\r\n                  <div className=\"stat-value torque\">\r\n                    {isRunning ? currentPeaks.currentTorque : (smoothedPeaks ? smoothedPeaks.maxTorque : (dynoResults?.peaks?.maxTorque || 0))}\r\n                  </div>\r\n                  <div className=\"stat-label\">\r\n                    {isRunning ? 'CURRENT' : 'PEAK'} LB-FT\r\n                  </div>\r\n                  {!isRunning && (dynoResults || smoothedPeaks) && (\r\n                    <div className=\"stat-rpm\">\r\n                      @ {smoothedPeaks ? smoothedPeaks.maxTorqueRpm : (dynoResults?.peaks?.maxTorqueRpm || 0)} RPM\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                <div className=\"stat-card\">\r\n                  <div className=\"stat-value boost\">\r\n                    {isRunning ? currentPeaks.maxBoost : (smoothedPeaks ? smoothedPeaks.maxBoost : (Math.max(...(liveGraphData.map(d => d.boost) || [0])) || (smoothedData.length > 0 ? Math.max(...smoothedData.map(d => d.boost)) : 0)))}\r\n                  </div>\r\n                  <div className=\"stat-label\">\r\n                    PEAK BOOST PSI\r\n                  </div>\r\n                  <div className=\"stat-rpm\">\r\n                    {isRunning ? 'LIVE' : 'RECORDED'}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Canvas Graph */}\r\n              <div className=\"canvas-container\">\r\n                <canvas\r\n                  ref={canvasRef}\r\n                  width={700}\r\n                  height={350}\r\n                  className=\"canvas-graph\"\r\n                />\r\n                \r\n                {/* Save Dyno Button - Only show after completion */}\r\n                {dynoResults && !isRunning && (\r\n                  <button \r\n                    onClick={() => {\r\n                      // TODO: Implement save functionality\r\n                      alert('Save functionality will be implemented soon!');\r\n                    }}\r\n                    className=\"save-dyno-button\"\r\n                  >\r\n                    ðŸ’¾ Save Dyno\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"placeholder-container\">\r\n              <div className=\"placeholder-content\">\r\n                <div className=\"placeholder-icon\">ðŸ“Š</div>\r\n                <h3 className=\"placeholder-title\">Ready for Dyno Run</h3>\r\n                <p className=\"placeholder-description\">\r\n                  Upload a datalog file and configure your settings to begin\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VirtualDyno;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}